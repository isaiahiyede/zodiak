{% load staticfiles %}
{% load custom_filters %}

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Zodiak</title>
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,700,900" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="{% static 'zodiakApp/font/css/open-iconic-bootstrap.css' %}">
  <link rel="stylesheet" href="{% static 'zodiakApp/font-awesome.min.css' %}">
  <script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>
  <link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="{% static 'zodiakApp/css/simple-sidebar.css' %}">
  <link rel="stylesheet" href="{% static 'zodiakApp/style.css' %}">



  <style type="text/css">
  	
  	.sidebar-items{
  		padding-top: 0.2em;
  		padding-bottom: 0.2em
  	}  
	@media (max-width: 768px) {
	  .innersidebar{	  	
	  	min-width: 40%
	  }
	  .innermainbar{
	  	width: 60%
	  }
}
.innersidebar{
	  	width: 25%
	  }
	  .innermainbar{
	  	width: 75%;	  	
	  }

  </style>


  

</head>

<body style="font-size: 0.7em">
	
  <div class="">
  <div class="d-flex" id="wrapper">

    <!-- Sidebar -->
    <div class="bg-light border-right" id="sidebar-wrapper">
      <div class="sidebar-heading">Menu </div>
      <div class="list-group list-group-flush">
        <a href="fiverr3.html" class="list-group-item list-group-item-action bg-light sidebar-items">Overview</a>
        <a href="index.html" class="list-group-item list-group-item-action bg-light sidebar-items">General</a>
        <a href="fiverr5.html" class="list-group-item list-group-item-action bg-light sidebar-items">Orders</a>
        <a href="#" class="list-group-item list-group-item-action bg-light sidebar-items">Partners</a>
        <a href="fiverr6.html" class="list-group-item list-group-item-action bg-light sidebar-items">Packages</a>
        <a href="#" class="list-group-item list-group-item-action bg-light sidebar-items">Routing</a>
        <a href="#" class="list-group-item list-group-item-action bg-light sidebar-items">Payables</a>
        <a href="#" class="list-group-item list-group-item-action bg-light sidebar-items">Recievables</a>
        <a href="fiverr7.html" class="list-group-item list-group-item-action bg-light sidebar-items">Docs Out</a>
        <a href="fiverr8.html" class="list-group-item list-group-item-action bg-light sidebar-items">Docs In</a>
        <a href="#" class="list-group-item list-group-item-action bg-light sidebar-items">Connected Entries</a>
        <a href="#" class="list-group-item list-group-item-action bg-light sidebar-items">Communication</a>
        <a href="#" class="list-group-item list-group-item-action bg-light sidebar-items">Audit</a>
        <a href="#" class="list-group-item list-group-item-action bg-light sidebar-items">Events</a>
        <a href="fiverr1.html" class="list-group-item list-group-item-action bg-primary text-white sidebar-items" style="background: linear-gradient(to top, #0000cc 0%, #0066ff 100%);">Operations</a>
        <a href="fiverr2.html" class="list-group-item list-group-item-action bg-light sidebar-items">Shipments</a>
        <a href="fiverr9.html" class="list-group-item list-group-item-action bg-light sidebar-items">Login Form</a>
      </div>
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">

      
	<nav class="navbar navbar-expand-lg navbar-light bg-light py-2">
        <button class="btn py-0" id="menu-toggle" style="color: white; background: linear-gradient(to top, #0000ff 0%, #3399ff 100%);">Operations</button>
        <label class="ml-2 mt-1 text-primary" id="" style="">3 Masters</label>

        
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button> 
        <div class="btn-toolbar ml-auto" role="toolbar" aria-label="Toolbar with button groups">
		  <label class="mx-1 mr-2 mt-2">Filters by: </label>
		  <div class="btn-group mr-2" role="group" aria-label="First group">
		    <button type="button" class="btn btn-primary">All</button>
		    <button type="button" class="btn btn-secondary"><span class="oi oi-flash"></span></button>
		    <button type="button" class="btn btn-secondary"><span class="oi oi-beaker"></span></button>
		    <button type="button" class="btn btn-secondary"><span class="oi oi-puzzle-piece"></span></button>
		  </div>
		  <div class="btn-group mr-2" role="group" aria-label="Second group">
		    <button type="button" class="btn btn-primary"><span class="oi oi-external-link"></span></button>
		    <button type="button" class="btn btn-secondary"><span class="oi oi-external-link"></span></button>
		    <button type="button" class="btn btn-secondary"><span class="oi oi-reload"></span></button>
		  </div>
		  <div class="btn-group mr-2" role="group" aria-label="First group">
		    <button type="button" class="btn btn-primary">All</button>
		    <button type="button" class="btn btn-secondary">D</button>
		    <button type="button" class="btn btn-secondary">H</button>
		    <button type="button" class="btn btn-secondary">M</button>
		  </div>		  
		</div>       
      </nav>

      <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom py-0 pb-1">
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
        	<a class="nav-link btn text-success py-1 px-2 ml-2" href="#" style="font-size: 0.8em; color: #232323;background: linear-gradient(to bottom, #dedede 0%, #adadad 100%);"><span class="oi oi-loop-circular"></span></a>        		
        <a class="nav-link btn py-1 px-1 ml-1" href="#" style="font-size: 0.8em; color: #232323;background: linear-gradient(to bottom, #dedede 0%, #adadad 100%);">Undo Recieved </a>            
		<a class="nav-link btn text-success py-1 px-2 ml-2" href="#" style="font-size: 0.8em; color: #232323;background: linear-gradient(to bottom, #dedede 0%, #adadad 100%);"><span class="oi oi-vertical-align-center"></span></a>
		
            <div class="demo-html ml-auto justify-content-end">
		        <div>		           
		          
		           <li class="dropdown btn" >
        <a href="#" data-toggle="dropdown" class="dropdown-toggle btn btn-secondary py-1" style="font-size: 0.6em; color: #232323;background: linear-gradient(to bottom, #dedede 0%, #adadad 100%);">Show/Hide Column<b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li class="pl-2">
                <div class="checkbox">
                    <label>                        
                        <input type="checkbox" name="" class="toggle-vis" data-column="0">
                    </label>
                </div>
            </li>
            <li class="pl-2">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="" class="toggle-vis" data-column="1">Client
                    </label>
                </div>
            </li>
            <li class="pl-2">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="" class="toggle-vis" data-column="2">ID
                    </label>
                </div>
            </li>
            <li class="pl-2">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="" class="toggle-vis" data-column="3">Origin
                    </label>
                </div>
            </li>
            <li class="pl-2">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="" class="toggle-vis" data-column="4">Destination
                    </label>
                </div>
            </li>
            <li class="pl-2">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="" class="toggle-vis" data-column="5">Job Mode
                    </label>
                </div>
            </li>
            <li class="pl-2">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="" class="toggle-vis" data-column="6">CBM(cm3)
                    </label>
                </div>
            </li>
            <li class="pl-2">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="" class="toggle-vis" data-column="7">Gross Wgh(kg)
                    </label>
                </div>
            </li>
            <li class="pl-2">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="" class="toggle-vis" data-column="8">Net Wgh(kg)
                    </label>
                </div>
            </li>
            <li class="pl-2">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="" class="toggle-vis" data-column="9">Description
                    </label>
                </div>
            </li>
            <li class="pl-2">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="" class="toggle-vis" data-column="10">No Of Conts.
                    </label>
                </div>
            </li>

            <li class="pl-2">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="" class="toggle-vis" data-column="10">No Of Pkgs.
                    </label>
                </div>
            </li>

            <li class="pl-2">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="" class="toggle-vis" data-column="10">Batches.
                    </label>
                </div>
            </li>

        </ul>
    </li>
		        </div>
			</div>


		<a class="nav-link btn text-success py-1 px-2 ml-2" href="#" style="font-size: 0.8em; color: #232323;background: linear-gradient(to bottom, #dedede 0%, #adadad 100%);"><span class="oi oi-spreadsheet"></span></a>

        </div>
      </nav>

      <div class="container-fluid mt-2">
      	
      	<div class="container-fluid mt-2">			
			<div class="row" style="">
				<div class="col-md-12" >
					
    <div class=" container" style="">

    <table class="table table-sm nowrap table-bordered" id="myTable" style="width: 100%; font-size: 0.8em">      
      <thead class="thead-dark">
        <th></th>
        <th>Client</th>
        <th>ID</th>
        <th>Origin</th>
        <th>Destination</th>
        <th>Job Mode</th>
        <th>CBM(cm3)</th>
        <th>Gross Wgh(kg)</th>
        <th>Net Wgh(kg)</th>
        <th>Description</th>
        <th>No Of Conts.</th>
        <th>No Of Pkgs</th>
        <th>Batches</th>
        <th>Action</th>
      </thead>
    <tbody>
        {% for job in all_jobs %}
            <tr>
                <td contenteditable="true"><input type="checkbox" class="checkthis" ></td>
                <td>{{job.job_user_acc.user}}</td>

                <td contenteditable="true"><a href="{% url 'zodiakApp:job_edit' job.pk %}">{{job.getShortCode}}</a>
                </td>
                <td contenteditable="true">{{job.shippers_country}}</td>
                <td contenteditable="true">{{job.consignee_country}}</td>
                <td contenteditable="true">{{job.job_type}}</td>
                <td contenteditable="true">{{job.getTotalCBM}}</td>
                <td contenteditable="true">{{job.gross_weight|default_if_none:"0.0"}}</td>
                <td contenteditable="true">{{job.box_weight_Actual|default_if_none:"0.0"}}</td>


                {% if job.getDescription %}
                    <td contenteditable="true"><a style="cursor:pointer !important;" class="job_desc" job_pk={{job.pk}}>{{job.getDESC}}</a></td>
                {% else %}
                    <td contenteditable="true">N/A</td>
                {% endif %}


               {% if job.getCONT %}
                    <td contenteditable="true"><a style="cursor:pointer !important;" class="job_info" job_pk={{job.pk}}>{{job.getCONT}}</a></td>
                {% else %}
                    <td contenteditable="true">N/A</td>
                {% endif %}

                {% if job.getPKGS %}
                    <td contenteditable="true">{{job.getPKGS}}</td>
                {% else %}
                    <td>N/A</td>
                {% endif %}

                 <td contenteditable="true">{{job.getminibatchesCount|default_if_none:"0"}}</td>
                 <td>
                    <a title="invoice" href="{% url 'zodiakApp:job_invoice_page' job.pk %}"><i class="oi oi-file"></i></a>&nbsp;
                    <a title="delete job" onclick="return confirm('Are you sure you want to delete this item?');" href="{% url 'zodiakApp:job_delete' job.pk %}"><span class="oi oi-trash"></span></a>&nbsp;
                    {% if job.getcommentsCount = 0 or job.getcommentsCount = None %}
                        <span style="cursor:pointer !important; color:grey;" class="oi oi-comment-square" job_pk={{job.pk}}></span>&nbsp;
                    {% else %}
                        {% if job.job_new_comment %}
                            <span style="cursor:pointer !important; color:#ffbf00;" class="oi oi-comment-square" job_pk={{job.pk}}></span>&nbsp;
                        {% else %}
                            <span style="cursor:pointer !important; color:green;" class="oi oi-comment-square" job_pk={{job.pk}}></span>&nbsp;
                        {% endif %}
                    {% endif %}
                </td>
             </tr>
        {% endfor %}
    </tbody>

    <tfoot>
            <tr>
                <th><input type="checkbox" id="checkall" /></th>
		        <th>Client</th>
		        <th>ID</th>
		        <th>Origin</th>
		        <th>Destination</th>
		        <th>Job Mode</th>
		        <th>CBM(cm3)</th>
		        <th>Gross Wgh(kg)</th>
		        <th>Net Wgh(kg)</th>
		        <th>Description</th>
		        <th>No Of Conts.</th>
		        <th>No Of Pkgs</th>
		        <th>Batches</th>
		        <th>Action</th>
            </tr>
        </tfoot>
    </table>
  </div>


  <div class="modal fade" id="edit" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
      <div class="modal-dialog">
    <div class="modal-content">
          <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
        <h4 class="modal-title custom_align" id="Heading">Edit Your Detail</h4>
      </div>
          <div class="modal-body">
          <div class="form-group">
        <input class="form-control " type="text" placeholder="Mohsin">
        </div>
        <div class="form-group">
        
        <input class="form-control " type="text" placeholder="Irshad">
        </div>
        <div class="form-group">
        <textarea rows="2" class="form-control" placeholder="CB 106/107 Street # 11 Wah Cantt Islamabad Pakistan"></textarea>
    
        
        </div>
      </div>
          <div class="modal-footer ">
        <button type="button" class="btn btn-warning btn-lg" style="width: 100%;"><span class="glyphicon glyphicon-ok-sign"></span> Update</button>
      </div>
        </div>
    <!-- /.modal-content --> 
  </div>
      <!-- /.modal-dialog --> 
    </div>

    <div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
      <div class="modal-dialog">
    <div class="modal-content">
          <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
        <h4 class="modal-title custom_align" id="Heading">Delete this entry</h4>
      </div>
          <div class="modal-body">
       
       <div class="alert alert-danger"><span class="glyphicon glyphicon-warning-sign"></span> Are you sure you want to delete this Record?</div>
       
      </div>
        <div class="modal-footer ">
        <button type="button" class="btn btn-success" ><span class="glyphicon glyphicon-ok-sign"></span> Yes</button>
        <button type="button" class="btn btn-default" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> No</button>
      </div>
        </div>
    <!-- /.modal-content --> 
  </div>
      <!-- /.modal-dialog --> 
    </div>

				</div>
			</div>			
		</div>


        
        </div>     
      </div>
  </div>

</div>

<script src="{% static 'zodiakApp/vendor/jquery/jquery.min.js' %}"></script> 
<script src="{% static 'zodiakApp/slim.js' %}"></script>
<script src="{% static 'zodiakApp/jquery.js' %}"></script>





  <script>
    $("#menu-toggle").click(function(e) {
      e.preventDefault();
      $("#wrapper").toggleClass("toggled");
    });

    $(document).ready(function() {
        var table = $('#myTable').DataTable( {
          "scrollY": "300px",
          "scrollX": "300px",
          "paging": true,
          "responsive": true,                   

          initComplete: function () {
            this.api().columns().every( function () {
                var column = this;
                var select = $('<select><option value=""></option></select>')
                    .appendTo( $(column.footer()).empty() )
                    .on( 'change', function () {
                        var val = $.fn.dataTable.util.escapeRegex(
                            $(this).val()
                        );
 
                        column
                            .search( val ? '^'+val+'$' : '', true, false )
                            .draw();
                    } );
 
                column.data().unique().sort().each( function ( d, j ) {
                    select.append( '<option value="'+d+'">'+d+'</option>' )
                } );
            } );
        }

        


        } );

        table.search("").draw();
        

        $('a.toggle-vis').on( 'click', function (e) {
          e.preventDefault();
          // Get the column API object
          var column = table.column( $(this).attr('data-column') );
          // Toggle the visibility
          column.visible( ! column.visible() );
        } );

        $('input.toggle-vis').on( 'click', function (e) {
          // e.preventDefault();
          // Get the column API object
          var column = table.column( $(this).attr('data-column') );
          // Toggle the visibility
          column.visible( ! column.visible() );
        } );



        $("#myTable #checkall").click(function () {
          if ($("#myTable #checkall").is(':checked')) {
            $("#myTable input[type=checkbox]").each(function () {
                $(this).prop("checked", true);
            });

        } else {
            $("#myTable input[type=checkbox]").each(function () {
                $(this).prop("checked", false);
            });
        }
    });

    
    $("[data-toggle=tooltip]").tooltip();

      } );

  </script>

</body>

</html>
